<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Summarize With AI</title>
  <link rel="canonical" href="https://summarizewith.vercel.app/">
  <meta name="description" content="A lightweight, embeddable, and open-source widget that lets users summarize web content with ChatGPT, Claude, Perplexity, and more.">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://summarizewith.vercel.app/">
  <meta property="og:title" content="Summarize With AI">
  <meta property="og:description" content="A lightweight, embeddable, and open-source widget that lets users summarize web content with ChatGPT, Claude, Perplexity, and more.">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://summarizewith.vercel.app/">
  <meta name="twitter:title" content="Summarize With AI">
  <meta name="twitter:description" content="A lightweight, embeddable, and open-source widget that lets users summarize web content with ChatGPT, Claude, Perplexity, and more.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Newsreader:opsz,wght@6..72,400;6..72,500&family=Inter:wght@400;500&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0a;
      --bg-elevated: #111111;
      --bg-code: #0d0d0d;
      --text: #e5e5e5;
      --text-muted: #737373;
      --text-faint: #525252;
      --accent: #2dd4bf;
      --accent-dim: rgba(45, 212, 191, 0.15);
      --border: #1a1a1a;
      --font-serif: 'Newsreader', Georgia, 'Times New Roman', serif;
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mono: 'JetBrains Mono', 'SF Mono', Menlo, monospace;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    ::selection {
      background: var(--accent-dim);
      color: var(--accent);
    }

    html {
      font-size: 16px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 0 1.5rem 6rem;
    }

    /* Hero */
    header {
      padding: 3rem 0 2rem;
    }

    .label {
      font-size: 0.75rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-faint);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .label::after {
      content: '';
      height: 1px;
      width: 60px;
      background: var(--text-faint);
    }

    h1 {
      font-family: var(--font-serif);
      font-size: clamp(2.5rem, 5vw, 3.5rem);
      font-weight: 400;
      line-height: 1.15;
      letter-spacing: -0.02em;
      margin-bottom: 1.5rem;
    }

    h1 .title-link {
      color: inherit;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    h1 .title-link:hover {
      color: var(--accent);
    }

    h1 .title-link .title-icons {
      display: inline-flex;
      align-items: center;
      gap: 0.2em;
      vertical-align: baseline;
      margin-left: 0.15em;
    }

    h1 .title-link .github-icon {
      width: 0.85em;
      height: 0.85em;
      flex-shrink: 0;
    }

    h1 .title-link .link-icon {
      width: 0.3em;
      height: 0.3em;
      opacity: 0.6;
      flex-shrink: 0;
      vertical-align: middle;
    }

    .subtitle {
      color: var(--text-muted);
      font-size: 1.0625rem;
      max-width: 540px;
      line-height: 1.6;
    }

    /* Sections */
    section {
      margin-bottom: 4rem;
    }

    section h2 {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      font-weight: 400;
      margin-bottom: 0.75rem;
      color: var(--text);
    }

    section > p {
      color: var(--text-muted);
      font-size: 0.9375rem;
      margin-bottom: 1.5rem;
    }

    .demo-widget {
      margin: 1.5rem 0;
    }

    /* Code blocks */
    .code-block {
      background: var(--bg-code);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.25rem 1.5rem;
      margin-top: 1.25rem;
      overflow-x: auto;
      position: relative;
    }

    .code-block::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border), transparent);
    }

    .code-block code {
      font-family: var(--font-mono);
      font-size: 0.8125rem;
      color: var(--text-muted);
      white-space: pre;
      line-height: 1.6;
    }

    .code-block .comment { color: #404040; }
    .code-block .tag { color: var(--accent); }
    .code-block .attr { color: #a78bfa; }
    .code-block .string { color: #fbbf24; }
    .code-block .keyword { color: var(--accent); }

    /* Sample content box */
    .sample-content {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .sample-content h3 {
      font-family: var(--font-serif);
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 0.75rem;
      color: var(--text);
    }

    .sample-content p {
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-bottom: 0;
    }

    /* Divider */
    hr {
      border: none;
      height: 1px;
      background: var(--border);
      margin: 4rem 0;
    }

    /* Footer */
    footer {
      padding: 3rem 0;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.875rem;
      color: var(--text-faint);
    }

    footer a {
      color: var(--text-muted);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.375rem;
      transition: color 0.2s ease;
    }

    footer a:hover {
      color: var(--accent);
    }

    .footer-links {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .footer-links a {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .footer-links a:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    /* Accent link style */
    .accent-link {
      color: var(--accent);
      text-decoration: none;
      border-bottom: 1px solid transparent;
      transition: border-color 0.2s ease;
    }

    .accent-link:hover {
      border-bottom-color: var(--accent);
    }

    /* Quick install box */
    .install-box {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      margin: 2rem 0;
    }

    .install-box code {
      font-family: var(--font-mono);
      font-size: 0.875rem;
      color: var(--text);
    }

    .install-box button {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-muted);
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: var(--font-sans);
    }

    .install-box button:hover {
      border-color: var(--text-muted);
      color: var(--text);
    }

    /* AI Prompt Box */
    .ai-prompt-box {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }

    .ai-prompt-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border);
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .ai-prompt-header:hover {
      background: rgba(255, 255, 255, 0.02);
    }

    .ai-prompt-header-left {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .ai-prompt-header-left svg {
      width: 18px;
      height: 18px;
      color: var(--accent);
    }

    .ai-prompt-header-left span {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text);
    }

    .ai-prompt-header-right {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .ai-prompt-header-right svg {
      width: 16px;
      height: 16px;
      color: var(--text-muted);
      transition: transform 0.2s ease;
    }

    .ai-prompt-box[data-expanded="true"] .ai-prompt-header-right svg {
      transform: rotate(180deg);
    }

    .ai-prompt-content {
      display: none;
      padding: 0;
    }

    .ai-prompt-box[data-expanded="true"] .ai-prompt-content {
      display: block;
    }

    .ai-prompt-textarea {
      width: 100%;
      background: var(--bg-code);
      border: none;
      padding: 1.25rem 1.5rem;
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--text-muted);
      line-height: 1.6;
      resize: none;
      min-height: 300px;
      max-height: 500px;
      overflow-y: auto;
    }

    .ai-prompt-textarea:focus {
      outline: none;
    }

    .ai-prompt-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 1.25rem;
      border-top: 1px solid var(--border);
      background: var(--bg-elevated);
    }

    .ai-prompt-footer span {
      font-size: 0.75rem;
      color: var(--text-faint);
    }

    .ai-prompt-copy-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--accent);
      color: var(--bg);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8125rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: var(--font-sans);
    }

    .ai-prompt-copy-btn:hover {
      filter: brightness(1.1);
    }

    .ai-prompt-copy-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Responsive */
    @media (max-width: 640px) {
      .container {
        padding: 0 1rem 4rem;
      }

      header {
        padding: 2rem 0 3rem;
      }

      footer {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
      }
    }
  </style>
  <script defer src="https://cloud.umami.is/script.js" data-website-id="b1feda70-fbfa-4053-9501-462a11068346"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1><a href="https://github.com/raztronaut/summarizewith" target="_blank" rel="noopener" class="title-link" aria-label="View on GitHub" onclick="window.umami && umami.track('click_github_title')">Summarize any page<br>with AI <span class="title-icons"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="github-icon"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg></span></a></h1>
      <p class="subtitle">A lightweight, embeddable, and open-source widget that lets users summarize web content with ChatGPT, Claude, Perplexity, and more.</p>
      
      <div class="install-box">
        <code>npm install summarize-with-ai</code>
        <button onclick="navigator.clipboard.writeText('npm install summarize-with-ai').then(() => { if (window.umami) umami.track('copy_npm_install'); })">Copy</button>
      </div>
    </header>

    <!-- Quick Start -->
    <section>
      <h2>Quick Start</h2>
      <p>Drop in a single line of HTML. That's it.</p>
      <div id="demo-quickstart" class="demo-widget"></div>
      <div class="code-block">
        <code><span class="tag">&lt;summarize-with-ai</span> <span class="attr">theme</span>=<span class="string">"dark"</span><span class="tag">&gt;&lt;/summarize-with-ai&gt;</span></code>
      </div>
    </section>

    <hr>

    <!-- AI Integration Prompt -->
    <section>
      <h2>AI Integration Prompt</h2>
      <p>Copy this prompt and paste it into your AI coding assistant (Cursor, Copilot, v0, etc.) to integrate the widget.</p>
      
      <div class="ai-prompt-box" data-expanded="false">
        <div class="ai-prompt-header" onclick="togglePrompt()">
          <div class="ai-prompt-header-left">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
            <span>Click to expand prompt</span>
          </div>
          <div class="ai-prompt-header-right">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
        </div>
        <div class="ai-prompt-content">
          <textarea class="ai-prompt-textarea" id="ai-prompt-text" readonly>You are given a task to integrate the "Summarize With AI" widget into an existing website.

This widget allows users to summarize web pages using AI services like ChatGPT, Claude, Perplexity, Gemini, and Grok.

## Widget Features
- Zero dependencies - pure vanilla JavaScript
- 5 AI services: ChatGPT, Claude, Perplexity, Gemini, Grok
- 3 themes: light, dark, minimal
- Compact mode (icons only)
- URL mode (sends page URL) or Content mode (sends page text)
- Selection-first: can summarize highlighted text

## Installation Options

### Option 1: CDN (Recommended for quick integration)

Add this to your HTML:

&lt;div id="summarize-widget"&gt;&lt;/div&gt;
&lt;script src="https://unpkg.com/summarize-with-ai/dist/summarize-widget.iife.js"&gt;&lt;/script&gt;
&lt;script&gt;
  SummarizeWidget.init({
    target: '#summarize-widget',
    theme: 'light', // 'light' | 'dark' | 'minimal'
    mode: 'url',    // 'url' | 'content'
    services: ['chatgpt', 'claude', 'perplexity', 'gemini', 'grok']
  });
&lt;/script&gt;

### Option 2: Web Component (Simplest)

&lt;script src="https://unpkg.com/summarize-with-ai/dist/summarize-widget.iife.js"&gt;&lt;/script&gt;
&lt;summarize-with-ai 
  theme="dark" 
  mode="url"
  services="chatgpt,claude,perplexity"
&gt;&lt;/summarize-with-ai&gt;

### Option 3: npm package

npm install summarize-with-ai

Then in your JavaScript/TypeScript:

import { SummarizeWidget } from 'summarize-with-ai';

SummarizeWidget.init({
  target: '#widget',
  theme: 'minimal'
});

## Configuration Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| target | string or HTMLElement | Required | CSS selector or element to render into |
| theme | 'light' | 'dark' | 'minimal' | 'light' | Visual theme |
| compact | boolean | false | Show icons only (no text labels) |
| mode | 'url' | 'content' | 'url' | Send page URL or extracted content |
| services | ServiceId[] | All services | Which AI services to show |
| preferSelection | boolean | true | Use selected text if available |
| maxChars | number | 4000 | Max characters for content mode |
| promptPrefix | string | - | Custom prompt prefix |
| geminiStyle | 'app' | 'search' | 'app' | Gemini URL style |
| onClickService | function | - | Callback for analytics |

## CSS Customization

Override these CSS variables to match your site's design:

.summarize-widget {
  --sw-bg: #ffffff;
  --sw-border: #e5e7eb;
  --sw-border-radius: 12px;
  --sw-padding: 1rem;
  --sw-font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  --sw-font-size: 14px;
  --sw-text-color: #374151;
  --sw-button-bg: #f9fafb;
  --sw-button-hover: #f3f4f6;
  --sw-button-border: #e5e7eb;
  --sw-button-radius: 8px;
}

## Implementation Guidelines

1. Determine the best location for the widget:
   - Blog posts: After the article content or in a sidebar
   - Landing pages: In a prominent section
   - Documentation: In the footer or floating sidebar

2. Choose the appropriate theme:
   - Use 'light' for light-colored websites
   - Use 'dark' for dark-themed websites
   - Use 'minimal' for seamless integration without borders

3. Select the right mode:
   - Use 'url' mode for public pages that AI can access
   - Use 'content' mode for protected/private content

4. Consider compact mode for tight spaces like sidebars or mobile views

5. Add analytics tracking if needed:
   
   SummarizeWidget.init({
     target: '#widget',
     onClickService: (serviceId, context) => {
       analytics.track('summarize_click', {
         service: serviceId,
         mode: context.mode,
         usedSelection: context.usedSelection
       });
     }
   });

## Questions to Consider

- What theme matches your site's design?
- Where should the widget be placed for best user experience?
- Which AI services are most relevant for your audience?
- Do you need analytics tracking for usage?
- Should compact mode be used for mobile responsiveness?

## Steps to Integrate

1. Choose installation method (CDN, Web Component, or npm)
2. Add the HTML container element to your page
3. Initialize the widget with your preferred options
4. Customize CSS variables if needed to match your design
5. Test on different screen sizes and themes
6. Add analytics callback if tracking is required</textarea>
          <div class="ai-prompt-footer">
            <span>Works with Cursor, GitHub Copilot, v0, and other AI assistants</span>
            <button class="ai-prompt-copy-btn" onclick="copyPrompt()">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
              </svg>
              Copy Prompt
            </button>
          </div>
        </div>
      </div>
    </section>

    <hr>

    <!-- Themes -->
    <section>
      <h2>Themes</h2>
      <p>Three built-in themes that adapt to your site.</p>
      
      <h3 style="font-family: var(--font-sans); font-size: 0.75rem; color: var(--text-faint); text-transform: uppercase; letter-spacing: 0.1em; margin: 2rem 0 1rem;">Light</h3>
      <div class="demo-widget" id="demo-light"></div>
      
      <h3 style="font-family: var(--font-sans); font-size: 0.75rem; color: var(--text-faint); text-transform: uppercase; letter-spacing: 0.1em; margin: 2rem 0 1rem;">Dark</h3>
      <div class="demo-widget" id="demo-dark"></div>
      
      <h3 style="font-family: var(--font-sans); font-size: 0.75rem; color: var(--text-faint); text-transform: uppercase; letter-spacing: 0.1em; margin: 2rem 0 1rem;">Minimal</h3>
      <div class="demo-widget" id="demo-minimal"></div>
    </section>

    <hr>

    <!-- Compact Mode -->
    <section>
      <h2>Compact Mode</h2>
      <p>Icons only. Perfect for sidebars or tight spaces.</p>
      <div class="demo-widget" id="demo-compact"></div>
      <div class="code-block">
        <code>SummarizeWidget.init({
  target: <span class="string">'#widget'</span>,
  compact: <span class="keyword">true</span>
});</code>
      </div>
    </section>

    <hr>

    <!-- Custom Services -->
    <section>
      <h2>Choose Your Services</h2>
      <p>Show only the AI services you want.</p>
      <div class="demo-widget" id="demo-custom"></div>
      <div class="code-block">
        <code>SummarizeWidget.init({
  services: [<span class="string">'chatgpt'</span>, <span class="string">'claude'</span>, <span class="string">'perplexity'</span>]
});</code>
      </div>
    </section>

    <hr>

    <!-- Content Mode -->
    <section>
      <h2>Selection Mode</h2>
      <p>Select text, then summarize just that portion.</p>
      <div class="sample-content">
        <h3>Try selecting this text</h3>
        <p>Artificial intelligence has transformed how we interact with technology. From voice assistants to recommendation systems, AI is now embedded in our daily lives. Machine learning algorithms can analyze vast amounts of data to find patterns that humans might miss.</p>
      </div>
      <div class="demo-widget" id="demo-content"></div>
      <div class="code-block">
        <code>SummarizeWidget.init({
  mode: <span class="string">'content'</span>,
  preferSelection: <span class="keyword">true</span>
});</code>
      </div>
    </section>

    <hr>

    <!-- Web Component -->
    <section>
      <h2>Works Everywhere</h2>
      <p>Use as a Web Component or initialize with JavaScript.</p>
      <div class="code-block">
        <code><span class="comment">// Web Component</span>
<span class="tag">&lt;summarize-with-ai</span>
  <span class="attr">theme</span>=<span class="string">"dark"</span>
  <span class="attr">services</span>=<span class="string">"chatgpt,claude"</span>
  <span class="attr">mode</span>=<span class="string">"url"</span>
<span class="tag">&gt;&lt;/summarize-with-ai&gt;</span>

<span class="comment">// JavaScript API</span>
SummarizeWidget.init({
  target: <span class="string">'#widget'</span>,
  theme: <span class="string">'dark'</span>,
  services: [<span class="string">'chatgpt'</span>, <span class="string">'claude'</span>],
  onService: (ctx) => console.log(ctx)
});</code>
      </div>
    </section>

    <footer>
      <span>built by razi</span>
      <div class="footer-links">
        <a href="https://github.com/raztronaut" target="_blank" rel="noopener" aria-label="GitHub" onclick="window.umami && umami.track('click_github_footer')">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
        </a>
        <a href="https://x.com/raztronaut" target="_blank" rel="noopener" aria-label="X (Twitter)" onclick="window.umami && umami.track('click_twitter_footer')">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
        </a>
      </div>
    </footer>
  </div>

  <!-- Load the widget -->
  <script src="dist/summarize-widget.iife.js"></script>
  <script>
    // Analytics handler for widget clicks
    function trackUsage(serviceId, context) {
      if (window.umami) {
        umami.track('summarize_click', {
          service: serviceId,
          mode: context.mode,
          usedSelection: context.usedSelection
        });
      }
    }

    // Quick Start
    SummarizeWidget.init({ 
      target: '#demo-quickstart', 
      theme: 'dark', 
      services: ['chatgpt', 'claude', 'perplexity'], 
      mode: 'url',
      onClickService: trackUsage 
    });

    // Themes
    SummarizeWidget.init({ target: '#demo-light', theme: 'light', onClickService: trackUsage });
    SummarizeWidget.init({ target: '#demo-dark', theme: 'dark', onClickService: trackUsage });
    SummarizeWidget.init({ target: '#demo-minimal', theme: 'minimal', onClickService: trackUsage });

    // Compact
    SummarizeWidget.init({ target: '#demo-compact', theme: 'dark', compact: true, onClickService: trackUsage });

    // Custom services
    SummarizeWidget.init({ 
      target: '#demo-custom', 
      theme: 'dark', 
      services: ['chatgpt', 'claude', 'perplexity'],
      onClickService: trackUsage 
    });

    // Content mode with selection
    SummarizeWidget.init({ 
      target: '#demo-content', 
      theme: 'dark', 
      mode: 'content', 
      preferSelection: true,
      onClickService: trackUsage 
    });

    // AI Prompt toggle and copy functions
    function togglePrompt() {
      const box = document.querySelector('.ai-prompt-box');
      const isExpanded = box.dataset.expanded === 'true';
      box.dataset.expanded = isExpanded ? 'false' : 'true';
      
      // Update header text
      const headerText = box.querySelector('.ai-prompt-header-left span');
      headerText.textContent = isExpanded ? 'Click to expand prompt' : 'Click to collapse';
    }

    function copyPrompt() {
      const textarea = document.getElementById('ai-prompt-text');
      // Decode HTML entities for clipboard
      const text = textarea.value
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>');
      
      navigator.clipboard.writeText(text).then(() => {
        // Track copy event
        if (window.umami) {
          umami.track('copy_ai_prompt');
        }
        
        const btn = document.querySelector('.ai-prompt-copy-btn');
        const originalHTML = btn.innerHTML;
        btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg> Copied!`;
        setTimeout(() => {
          btn.innerHTML = originalHTML;
        }, 2000);
      });
    }
  </script>
</body>
</html>
